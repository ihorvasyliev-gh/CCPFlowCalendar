# üóÑÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è CCP Event Calendar

–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Supabase –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è —Å–æ–±—ã—Ç–∏–π.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase](#1-—Å–æ–∑–¥–∞–Ω–∏–µ-–ø—Ä–æ–µ–∫—Ç–∞-supabase)
2. [–í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —Å–∫—Ä–∏–ø—Ç–∞](#2-–≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ-sql-—Å–∫—Ä–∏–ø—Ç–∞)
3. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏](#3-–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏)
4. [–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π API](#4-–ø–æ–ª—É—á–µ–Ω–∏–µ-–∫–ª—é—á–µ–π-api)
5. [–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏](#5-–ø—Ä–æ–≤–µ—Ä–∫–∞-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏)
6. [–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π](#6-—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç–µ—Å—Ç–æ–≤—ã—Ö-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

---

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [https://supabase.com](https://supabase.com)
2. –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç (–∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π)
3. –ù–∞–∂–º–∏—Ç–µ **"New Project"**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Name:** `CCP Event Calendar` (–∏–ª–∏ –ª—é–±–æ–µ –¥—Ä—É–≥–æ–µ –∏–º—è)
   - **Database Password:** –ü—Ä–∏–¥—É–º–∞–π—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å –∏ **—Å–æ—Ö—Ä–∞–Ω–∏—Ç–µ –µ–≥–æ!**
   - **Region:** –í—ã–±–µ—Ä–∏—Ç–µ –±–ª–∏–∂–∞–π—à–∏–π —Ä–µ–≥–∏–æ–Ω (–Ω–∞–ø—Ä–∏–º–µ—Ä, `West Europe` –¥–ª—è –ò—Ä–ª–∞–Ω–¥–∏–∏)
   - **Pricing Plan:** –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–π –ø–ª–∞–Ω (Free tier –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –Ω–∞—á–∞–ª–∞)
5. –ù–∞–∂–º–∏—Ç–µ **"Create new project"**
6. –î–æ–∂–¥–∏—Ç–µ—Å—å —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (–æ–±—ã—á–Ω–æ 2-3 –º–∏–Ω—É—Ç—ã)

---

## 2. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ SQL —Å–∫—Ä–∏–ø—Ç–∞

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor** (–≤ –ª–µ–≤–æ–º –º–µ–Ω—é)
2. –ù–∞–∂–º–∏—Ç–µ **"New query"**
3. –û—Ç–∫—Ä–æ–π—Ç–µ —Ñ–∞–π–ª `supabase-setup.sql` –∏–∑ —ç—Ç–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **–≤–µ—Å—å** —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor –≤ Supabase
6. –ù–∞–∂–º–∏—Ç–µ **"Run"** (–∏–ª–∏ `Ctrl+Enter` / `Cmd+Enter`)

‚úÖ –ï—Å–ª–∏ –≤—Å–µ –ø—Ä–æ—à–ª–æ —É—Å–ø–µ—à–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "Success. No rows returned"

### –ß—Ç–æ —Å–æ–∑–¥–∞–µ—Ç—Å—è:

- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: `users`, `events`, `event_attachments`, `event_comments`, `event_history`, `rsvps`
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –¢—Ä–∏–≥–≥–µ—Ä—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è `updated_at`
- ‚úÖ Row Level Security (RLS) –ø–æ–ª–∏—Ç–∏–∫–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–¥–æ–±–Ω–æ–π —Ä–∞–±–æ—Ç—ã —Å –¥–∞–Ω–Ω—ã–º–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å `auth.users`

---

## 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Settings**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **Email Auth:**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **Enable Email Signup** –≤–∫–ª—é—á–µ–Ω
   - ‚ö†Ô∏è **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –û—Ç–∫–ª—é—á–∏—Ç–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email:**
     - –ù–∞–π–¥–∏—Ç–µ –æ–ø—Ü–∏—é **"Confirm email"** 
     - **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û –æ—Ç–∫–ª—é—á–∏—Ç–µ** –µ—ë (–ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ OFF)
     - –≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –∏ —Å—Ä–∞–∑—É –≤—Ö–æ–¥–∏—Ç—å –±–µ–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ—á—Ç—ã
     - –ë–µ–∑ —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–º–æ–≥—É—Ç –≤–æ–π—Ç–∏ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –¥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è email
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **Email Templates** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ **SMTP Settings** –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–∏—Å–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

3. **URL Configuration:**
   - **Site URL:** –£–∫–∞–∂–∏—Ç–µ URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, `https://your-app.pages.dev`)
   - **Redirect URLs:** –î–æ–±–∞–≤—å—Ç–µ URL –¥–ª—è —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞

4. **OAuth Providers** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):
   - –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å Google, GitHub –∏ –¥—Ä—É–≥–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
   - –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–ª–∏ email, –æ—Å—Ç–∞–≤—å—Ç–µ "Confirm email" –≤–∫–ª—é—á–µ–Ω–Ω—ã–º. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ø–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∏—Ç –ø–∏—Å—å–º–æ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º –∏ —Å–º–æ–∂–µ—Ç –≤–æ–π—Ç–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è.

---

## 4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π API

1. –í Supabase Dashboard –ø–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings** ‚Üí **API**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Project API keys**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:

   - **Project URL** 
     ```
     https://xxxxx.supabase.co
     ```
     ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ `VITE_SUPABASE_URL`

   - **anon public** key (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞)
     ```
     eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
     ```
     ‚Üí –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–∞–∫ `VITE_SUPABASE_ANON_KEY`

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** 
- `anon` key - –ø—É–±–ª–∏—á–Ω—ã–π –∫–ª—é—á, –±–µ–∑–æ–ø–∞—Å–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–æ frontend
- `service_role` key - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, **–ù–ò–ö–û–ì–î–ê** –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–æ frontend!

---

## 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∞–±–ª–∏—Ü

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Table Editor** –≤ Supabase Dashboard
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∏–¥–Ω—ã –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã:
   - `users`
   - `events`
   - `event_attachments`
   - `event_comments`
   - `event_history`
   - `rsvps`

### –ü—Ä–æ–≤–µ—Ä–∫–∞ RLS –ø–æ–ª–∏—Ç–∏–∫

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Ç–∞–±–ª–∏—Ü—É –≤ **Table Editor**
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É **Policies**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å–æ–∑–¥–∞–Ω—ã –∏ –∞–∫—Ç–∏–≤–Ω—ã

### –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å

–í **SQL Editor** –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–∞–±–ª–∏—Ü—ã events
SELECT column_name, data_type, is_nullable
FROM information_schema.columns
WHERE table_name = 'events'
ORDER BY ordinal_position;
```

–î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ —Ç–∞–±–ª–∏—Ü—ã `events`.

---

## 6. –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Supabase Dashboard

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Users**
2. –ù–∞–∂–º–∏—Ç–µ **"Add user"** ‚Üí **"Create new user"**
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
   - **Email:** `admin@ccp.com`
   - **Password:** (–ø—Ä–∏–¥—É–º–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å)
   - **Auto Confirm User:** ‚úÖ –í–∫–ª—é—á–∏—Ç–µ (–µ—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –æ—Ç–∫–ª—é—á–µ–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
4. –ù–∞–∂–º–∏—Ç–µ **"Create user"**

5. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ —Ä–æ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
   ```sql
   UPDATE public.users
   SET role = 'admin', full_name = 'CCP Administrator'
   WHERE email = 'admin@ccp.com';
   ```

6. –ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –¥–ª—è —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞:
   - Email: `staff@ccp.com`
   - Role: `staff`

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –æ—Ç–∫–ª—é—á–µ–Ω–æ (—Å–º. —Ä–∞–∑–¥–µ–ª 3), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ—á—Ç—ã.

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SQL (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

‚ö†Ô∏è **–í–Ω–∏–º–∞–Ω–∏–µ:** –≠—Ç–æ—Ç –º–µ—Ç–æ–¥ —Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –±–µ–∑ –ø–∞—Ä–æ–ª—è. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

```sql
-- –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ SQL
-- –ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!

-- –°–Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ auth.users
INSERT INTO auth.users (
  instance_id,
  id,
  aud,
  role,
  email,
  encrypted_password,
  email_confirmed_at,
  created_at,
  updated_at
)
VALUES (
  '00000000-0000-0000-0000-000000000000',
  gen_random_uuid(),
  'authenticated',
  'authenticated',
  'admin@ccp.com',
  crypt('your-password-here', gen_salt('bf')),
  NOW(),
  NOW(),
  NOW()
)
RETURNING id;

-- –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç–µ public.users (—Ç—Ä–∏–≥–≥–µ—Ä –¥–æ–ª–∂–µ–Ω —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
-- –ï—Å–ª–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
INSERT INTO public.users (id, email, full_name, role)
SELECT id, email, 'CCP Administrator', 'admin'
FROM auth.users
WHERE email = 'admin@ccp.com'
ON CONFLICT (id) DO UPDATE
SET role = 'admin', full_name = 'CCP Administrator';
```

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Storage (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Storage –≤–º–µ—Å—Ç–æ Cloudflare R2:

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Storage** –≤ Supabase Dashboard
2. –°–æ–∑–¥–∞–π—Ç–µ bucket `event-posters`
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—É–±–ª–∏—á–Ω—ã–π –¥–æ—Å—Ç—É–ø
4. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Supabase Storage API

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Edge Functions (–¥–ª—è R2 upload)

–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Cloudflare R2, –≤–∞–º –º–æ–∂–µ—Ç –ø–æ–Ω–∞–¥–æ–±–∏—Ç—å—Å—è Supabase Edge Function –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è presigned URLs:

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Supabase CLI: `npm install -g supabase`
2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç: `supabase init`
3. –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é: `supabase functions new r2-upload`
4. –°–ª–µ–¥—É–π—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Supabase –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

## ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

- [ ] –ü—Ä–æ–µ–∫—Ç Supabase —Å–æ–∑–¥–∞–Ω
- [ ] SQL —Å–∫—Ä–∏–ø—Ç `supabase-setup.sql` –≤—ã–ø–æ–ª–Ω–µ–Ω —É—Å–ø–µ—à–Ω–æ
- [ ] –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –≤–∏–¥–Ω—ã –≤ Table Editor
- [ ] RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∞–∫—Ç–∏–≤–Ω—ã
- [ ] –ü–æ–ª—É—á–µ–Ω—ã Project URL –∏ anon key
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- [ ] **–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email –æ—Ç–∫–ª—é—á–µ–Ω–æ** (Authentication ‚Üí Settings ‚Üí Email Auth ‚Üí Confirm email: OFF)
- [ ] –°–æ–∑–¥–∞–Ω—ã —Ç–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- [ ] –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.env.local`
- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ Supabase

---

## üÜò Troubleshooting

### –û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ SQL

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ –≤–µ—Å—å —Å–∫—Ä–∏–ø—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–∑–¥–∞–Ω (–Ω–µ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ —Å–æ–∑–¥–∞–Ω–∏—è)
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø–æ —á–∞—Å—Ç—è–º

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç—Ä–∏–≥–≥–µ—Ä `on_auth_user_created` —Å–æ–∑–¥–∞–Ω
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è `handle_new_user()` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Supabase Dashboard ‚Üí Logs

### RLS –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –≤ Table Editor ‚Üí Policies
- –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç–µ RLS –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!):
  ```sql
  ALTER TABLE public.events DISABLE ROW LEVEL SECURITY;
  ```

### –ù–µ –º–æ–≥—É –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∏–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å URL –∏ –∫–ª—é—á–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `VITE_`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (–¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Supabase Documentation](https://supabase.com/docs)
- [Supabase Auth Guide](https://supabase.com/docs/guides/auth)
- [Row Level Security](https://supabase.com/docs/guides/auth/row-level-security)
- [Supabase JavaScript Client](https://supabase.com/docs/reference/javascript/introduction)

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à–∞ –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö Supabase –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é. –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ:

1. –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Supabase
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@supabase/supabase-js`: `npm install @supabase/supabase-js`
3. –°–æ–∑–¥–∞—Ç—å –∫–ª–∏–µ–Ω—Ç Supabase –≤ –≤–∞—à–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
4. –ó–∞–º–µ–Ω–∏—Ç—å –º–æ–∫–∏ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

–£–¥–∞—á–∏! üöÄ

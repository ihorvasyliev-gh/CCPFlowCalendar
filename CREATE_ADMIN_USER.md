# üîê –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ Supabase

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º —Å–æ–∑–¥–∞—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è CCP Events Staff Access Portal.

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ 400 Bad Request

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É `400 Bad Request` –ø—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –≤—Ö–æ–¥–∞, —ç—Ç–æ –æ–±—ã—á–Ω–æ –æ–∑–Ω–∞—á–∞–µ—Ç:

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** –≤ Supabase Auth
2. **Email –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω** (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email)
3. **–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å**

## ‚úÖ –†–µ—à–µ–Ω–∏–µ: –°–æ–∑–¥–∞–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ Supabase Dashboard (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Supabase Dashboard](https://app.supabase.com)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Authentication** ‚Üí **Users**
4. –ù–∞–∂–º–∏—Ç–µ **"Add user"** ‚Üí **"Create new user"**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Email:** `admin@partnershipcork.ie` (–∏–ª–∏ –≤–∞—à email)
   - **Password:** –í–≤–µ–¥–∏—Ç–µ –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
   - **Auto Confirm User:** ‚úÖ **–í–∫–ª—é—á–∏—Ç–µ** (—ç—Ç–æ –≤–∞–∂–Ω–æ!)
   - **Send invitation email:** ‚ùå –û—Ç–∫–ª—é—á–∏—Ç–µ (–Ω–µ –Ω—É–∂–Ω–æ)
6. –ù–∞–∂–º–∏—Ç–µ **"Create user"**

7. –ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –æ–±–Ω–æ–≤–∏—Ç–µ –µ–≥–æ —Ä–æ–ª—å –≤ —Ç–∞–±–ª–∏—Ü–µ `users`:
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SQL Editor**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–π SQL:

```sql
-- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
UPDATE public.users
SET role = 'admin', full_name = 'ADMIN'
WHERE email = 'admin@partnershipcork.ie';

-- –ï—Å–ª–∏ –∑–∞–ø–∏—Å—å –Ω–µ —Å–æ–∑–¥–∞–ª–∞—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Å–æ–∑–¥–∞–π—Ç–µ –µ—ë:
INSERT INTO public.users (id, email, full_name, role)
SELECT id, email, 'ADMIN', 'admin'
FROM auth.users
WHERE email = 'admin@partnershipcork.ie'
ON CONFLICT (id) DO UPDATE
SET role = 'admin', full_name = 'ADMIN';
```

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Ñ–æ—Ä–º—É —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—Ö–æ–¥–∞ –Ω–∞–∂–º–∏—Ç–µ **"Don't have an account? Sign up"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Full Name:** `ADMIN`
   - **Email:** `admin@partnershipcork.ie`
   - **Password:** –í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤)
3. –ù–∞–∂–º–∏—Ç–µ **"Sign Up"**

4. –ü–æ—Å–ª–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ä–æ–ª—å —á–µ—Ä–µ–∑ SQL Editor:

```sql
UPDATE public.users
SET role = 'admin'
WHERE email = 'admin@partnershipcork.ie';
```

## üîß –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ email **–æ—Ç–∫–ª—é—á–µ–Ω–æ** (–µ—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥–ª–∏ —Å—Ä–∞–∑—É –≤—Ö–æ–¥–∏—Ç—å):

1. –í Supabase Dashboard: **Authentication** ‚Üí **Settings**
2. –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é **Email Auth**
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ **"Confirm email"** –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–æ –≤ –ø–æ–ª–æ–∂–µ–Ω–∏–µ **OFF**
4. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ, –æ—Ç–∫–ª—é—á–∏—Ç–µ –µ–≥–æ

> üí° **–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ï—Å–ª–∏ "Confirm email" –≤–∫–ª—é—á–µ–Ω–æ, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–ª–∂–Ω—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å email –ø–µ—Ä–µ–¥ –≤—Ö–æ–¥–æ–º. –≠—Ç–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–∏—á–∏–Ω–æ–π –æ—à–∏–±–∫–∏ 400.

## üß™ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:

1. **–í Authentication ‚Üí Users:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤ —Å–ø–∏—Å–∫–µ
   - Email –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω (–∑–µ–ª–µ–Ω–∞—è –≥–∞–ª–æ—á–∫–∞)
   - –°—Ç–∞—Ç—É—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "Active"

2. **–í Table Editor ‚Üí users:**
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–ø–∏—Å—å —Å –≤–∞—à–∏–º email
   - `role` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `admin`
   - `full_name` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `ADMIN`

3. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –≤–æ–π—Ç–∏:**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã —Å–æ–∑–¥–∞–ª–∏
   - –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π

## üÜò Troubleshooting

### –û—à–∏–±–∫–∞ "User not found"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ —Å–æ–∑–¥–∞–Ω –≤ `auth.users`
- –°–æ–∑–¥–∞–π—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Dashboard (–°–ø–æ—Å–æ–± 1)

### –û—à–∏–±–∫–∞ "Email not confirmed"
- –í–∫–ª—é—á–∏—Ç–µ "Auto Confirm User" –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏
- –ò–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ "Confirm email" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ò–ª–∏ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email —á–µ—Ä–µ–∑ –ø–∏—Å—å–º–æ

### –û—à–∏–±–∫–∞ "Invalid login credentials"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å email –∏ –ø–∞—Ä–æ–ª—è
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ Supabase

### –û—à–∏–±–∫–∞ "User profile not found"
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–Ω –≤ `auth.users`, –Ω–æ –Ω–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ `public.users`
- –í—ã–ø–æ–ª–Ω–∏—Ç–µ SQL –∏–∑ –°–ø–æ—Å–æ–± 1, —à–∞–≥ 7

### –û—à–∏–±–∫–∞ 400 Bad Request
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (`VITE_SUPABASE_URL` –∏ `VITE_SUPABASE_ANON_KEY`) –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ email –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏

## üìù –ë—ã—Å—Ç—Ä–∞—è –∫–æ–º–∞–Ω–¥–∞ SQL

–ï—Å–ª–∏ –≤—ã —É–∂–µ —Å–æ–∑–¥–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —á–µ—Ä–µ–∑ Dashboard, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —ç—Ç–æ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Ä–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:

```sql
-- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–æ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
UPDATE public.users
SET role = 'admin', full_name = 'ADMIN'
WHERE email = 'admin@partnershipcork.ie';

-- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
SELECT id, email, full_name, role, created_at
FROM public.users
WHERE email = 'admin@partnershipcork.ie';
```

## ‚úÖ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–∏—Ö —à–∞–≥–æ–≤ –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞.
